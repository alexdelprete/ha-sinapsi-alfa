# Pre-commit hooks configuration
# Uses locally installed tools (no isolated environments)
# Run: pre-commit install (first time setup)
# Run: pre-commit run --all-files (manual check)

repos:
  - repo: local
    hooks:
      # Ruff linting (check-only)
      - id: ruff
        name: ruff
        entry: ruff check --no-fix --verbose
        language: system
        types: [python]
        verbose: true

      # Ruff formatting (check-only)
      - id: ruff-format
        name: ruff-format
        entry: ruff format --check --verbose
        language: system
        types: [python]
        verbose: true

      # JSON validation
      - id: jsonlint
        name: jsonlint
        entry: uvx --from demjson3 jsonlint
        language: system
        types: [json]
        exclude: ^\.vscode/
        verbose: true

      # YAML validation
      - id: check-yaml
        name: check-yaml
        entry: python -c "import yaml, sys; yaml.safe_load(open(sys.argv[1]))"
        language: system
        types: [yaml]
        verbose: true

      # Markdown linting
      - id: pymarkdown
        name: pymarkdown
        entry: pymarkdown scan
        language: system
        types: [markdown]
        verbose: true
