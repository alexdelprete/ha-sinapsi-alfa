# Release Notes - v1.0.0-beta.3

**Release Date**: 2025-12-07
**Type**: Beta Release (Pre-release)
**Status**: Ready for Testing

## Overview

This beta fixes a critical connection issue where `check_port()` would timeout when connecting via hostname.

## What's Changed

### Bug Fixes

- **Fixed IPv4/IPv6 dual-stack connection timeout** - `check_port()` now forces IPv4 (`socket.AF_INET`) to avoid timeouts when the device only supports IPv4 but DNS returns IPv6 addresses first

## Technical Details

**Root Cause**: `asyncio.open_connection()` performs dual-stack DNS resolution. When a hostname resolves to both IPv4 and IPv6 addresses, Python tries IPv6 first. If the device only supports IPv4, the connection waits for the full timeout (3 seconds) before falling back.

**Fix**: Added `family=socket.AF_INET` parameter to force IPv4-only connections.

## Testing Focus

- [ ] Connection succeeds without 3-second delay when using hostname
- [ ] Connection works with IP address (should be unchanged)
- [ ] All sensors read correctly after connection
- [ ] Device offline detection still works

## Documentation

- See [v1.0.0-beta.2 release notes](v1.0.0-beta.2.md) for ModbusLink best practices
- See [v1.0.0-beta.1 release notes](v1.0.0-beta.1.md) for ModbusLink migration details

______________________________________________________________________

**Full Changelog**: [v1.0.0-beta.2...v1.0.0-beta.3](https://github.com/alexdelprete/ha-sinapsi-alfa/compare/v1.0.0-beta.2...v1.0.0-beta.3)
